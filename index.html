<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Papyon Kafe Kahve Yakalama Oyunu</title>
    <!-- Tailwind CSS'i CDN Ã¼zerinden yÃ¼kler -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            /* EkranÄ±n tamamÄ±nÄ± kaplar ve taÅŸmalarÄ± engeller */
            width: 100vw;
            height: 100vh;
            overflow: hidden; 
        }

        /* ButonlarÄ±n yerlerini deÄŸiÅŸtirmek iÃ§in grid kullanÄ±yoruz */
        #button-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(64px, 1fr));
            gap: 12px;
            transition: all 0.5s ease-in-out; /* ButonlarÄ±n yer deÄŸiÅŸimini yumuÅŸatÄ±r */
        }
        
        .game-button {
            position: relative;
            overflow: hidden;
            border: 2px solid theme('colors.gray.700');
        }

        .button-content {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transition: transform 0.3s ease-in-out;
        }

        .hidden-content {
            transform: scale(0);
        }

        .revealed-content {
            transform: scale(1);
        }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen flex items-center justify-center p-4">
    <!-- Oyunun ana konteyneri -->
    <div class="relative w-full h-full bg-gray-800 rounded-2xl shadow-lg p-6 flex flex-col justify-between">
        
        <!-- BaÅŸlÄ±k ve aÃ§Ä±klama -->
        <div class="text-center mb-6">
            <h1 class="text-2xl sm:text-3xl font-extrabold text-amber-400">Papyon Kafe Kahve Yakalama Oyunu</h1>
            <p class="text-xs sm:text-sm text-gray-400 mt-1">Kahveyi bulmak iÃ§in butonlara tÄ±kla!</p>
        </div>

        <!-- TÄ±klama hakkÄ± sayacÄ± -->
        <div id="attempts-display" class="absolute top-2 right-2 text-xl sm:text-3xl font-bold text-yellow-400">
            Kalan Hak: 30
        </div>

        <!-- Butonlar iÃ§in grid konteyneri -->
        <div id="button-grid" class="w-full flex-grow overflow-y-auto p-2">
            <!-- JavaScript ile butonlar buraya eklenecek -->
        </div>

        <!-- Kazanma mesajÄ± -->
        <div id="win-message" class="hidden fixed inset-0 flex items-center justify-center bg-black bg-opacity-70 z-20">
            <div class="bg-green-500 text-white text-center text-3xl sm:text-4xl font-extrabold p-8 rounded-xl shadow-2xl">
                KazandÄ±n! Kahveyi Buldun!
                <button id="play-again-win" class="mt-4 px-6 py-3 bg-white text-green-500 font-bold rounded-full text-xl hover:bg-gray-200">Tekrar Oyna</button>
            </div>
        </div>

        <!-- Oyun bitti mesajÄ± -->
        <div id="game-over-message" class="hidden fixed inset-0 flex items-center justify-center bg-black bg-opacity-70 z-20">
            <div class="bg-red-600 text-white text-center text-3xl sm:text-4xl font-extrabold p-8 rounded-xl shadow-2xl">
                Oyun Bitti! TÄ±klama HakkÄ±n KalmadÄ±.
                <button id="play-again-lose" class="mt-4 px-6 py-3 bg-white text-red-600 font-bold rounded-full text-xl hover:bg-gray-200">Tekrar Oyna</button>
            </div>
        </div>
    </div>

    <script>
        window.onload = function() {
            // Gerekli HTML elementlerine referanslar
            const buttonGrid = document.getElementById('button-grid');
            const winMessage = document.getElementById('win-message');
            const gameOverMessage = document.getElementById('game-over-message');
            const attemptsDisplay = document.getElementById('attempts-display');
            const playAgainWinButton = document.getElementById('play-again-win');
            const playAgainLoseButton = document.getElementById('play-again-lose');

            const totalButtons = 55;
            const initialAttempts = 30;
            const bowTieImageUrl = 'https://placehold.co/100x100/fff/38bdf8?text=ðŸŽ€'; // Papyon fotoÄŸrafÄ±
            const sandwichImageUrl = 'https://placehold.co/100x100/593817/ffffff?text=SandviÃ§'; // SandviÃ§ fotoÄŸrafÄ±
            const coffeeImageUrl = 'https://placehold.co/100x100/8B4513/ffffff?text=Kahve'; // Kahve fotoÄŸrafÄ±
            const buttonColors = [
                'bg-red-500', 'bg-blue-500', 'bg-green-500', 'bg-purple-500', 'bg-yellow-500',
                'bg-pink-500', 'bg-indigo-500', 'bg-teal-500', 'bg-orange-500', 'bg-cyan-500'
            ];
            let isGameOver = false;
            let attempts = initialAttempts;

            // Oyunu sÄ±fÄ±rlayan ve baÅŸlatan fonksiyon
            function resetGame() {
                isGameOver = false;
                attempts = initialAttempts;
                attemptsDisplay.textContent = `Kalan Hak: ${attempts}`;
                winMessage.classList.add('hidden');
                gameOverMessage.classList.add('hidden');
                createButtons();
                shufflePositions();
            }

            // ButonlarÄ± oluÅŸturur ve karÄ±ÅŸtÄ±rÄ±r
            function createButtons() {
                buttonGrid.innerHTML = '';
                const buttonData = [];
                const coffeeIndex = Math.floor(Math.random() * totalButtons);

                for (let i = 0; i < totalButtons; i++) {
                    buttonData.push({
                        id: i,
                        contentUrl: (i === coffeeIndex) ? coffeeImageUrl : sandwichImageUrl,
                        isCoffee: (i === coffeeIndex),
                        color: buttonColors[i % buttonColors.length]
                    });
                }
                
                buttonData.sort(() => Math.random() - 0.5);

                buttonData.forEach(data => {
                    const button = document.createElement('button');
                    button.classList.add(
                        'game-button', data.color,
                        'text-4xl', 'font-bold', 'text-white', 'p-4', 'rounded-xl', 'shadow-md',
                        'transition-colors', 'duration-150', 'ease-in-out',
                        'aspect-square'
                    );
                    button.dataset.isCoffee = data.isCoffee;
                    
                    const hiddenImage = document.createElement('img');
                    hiddenImage.src = bowTieImageUrl;
                    hiddenImage.classList.add('button-content', 'revealed-content'); // BaÅŸlangÄ±Ã§ta papyon fotoÄŸrafÄ± gÃ¶rÃ¼nÃ¼r
                    button.appendChild(hiddenImage);

                    const revealedImage = document.createElement('img');
                    revealedImage.src = data.contentUrl;
                    revealedImage.classList.add('button-content', 'hidden-content'); // Ä°Ã§erik baÅŸlangÄ±Ã§ta gizli
                    button.appendChild(revealedImage);
                    
                    buttonGrid.appendChild(button);
                });
            }

            // ButonlarÄ±n konumlarÄ±nÄ± rastgele karÄ±ÅŸtÄ±rÄ±r
            function shufflePositions() {
                const buttons = Array.from(buttonGrid.children);
                buttons.forEach(button => {
                    button.style.order = Math.floor(Math.random() * totalButtons);
                });
            }

            // Oyun dÃ¶ngÃ¼sÃ¼: TÄ±klama olaylarÄ±nÄ± yÃ¶netir
            buttonGrid.addEventListener('click', (event) => {
                if (isGameOver) return;
                
                const clickedButton = event.target.closest('button');
                if (clickedButton) {
                    const isCoffee = clickedButton.dataset.isCoffee === 'true';
                    
                    // Ä°Ã§eriÄŸi ortaya Ã§Ä±karÄ±r (papyonu gizler, resmi gÃ¶sterir)
                    const hiddenImage = clickedButton.querySelector('.button-content.revealed-content');
                    const revealedImage = clickedButton.querySelector('.button-content.hidden-content');
                    
                    if (revealedImage) revealedImage.classList.remove('hidden-content');
                    if (hiddenImage) hiddenImage.classList.add('hidden-content');


                    if (isCoffee) {
                        // Kazanma durumu
                        winMessage.classList.remove('hidden');
                        isGameOver = true;
                    } else {
                        // YanlÄ±ÅŸ tÄ±klama: resmi kÄ±sa bir sÃ¼re gÃ¶sterip tekrar gizler
                        setTimeout(() => {
                            if (revealedImage) revealedImage.classList.add('hidden-content');
                            if (hiddenImage) hiddenImage.classList.remove('hidden-content');
                            if (!isGameOver) {
                                shufflePositions();
                            }
                        }, 500);
                        
                        attempts--;
                        attemptsDisplay.textContent = `Kalan Hak: ${attempts}`;

                        if (attempts <= 0) {
                            isGameOver = true;
                            gameOverMessage.classList.remove('hidden');
                        }
                    }
                }
            });

            // Tekrar oynama dÃ¼ÄŸmelerine olay dinleyicileri ekler
            playAgainWinButton.addEventListener('click', resetGame);
            playAgainLoseButton.addEventListener('click', resetGame);

            // Oyunu baÅŸlat
            createButtons();
            shufflePositions();
        };
    </script>
</body>
</html>
